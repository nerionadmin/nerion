// lib/prompts/big_five.ts

// Nombre total attendu de questions (sanity check runtime)
export const BIG_FIVE_TOTAL = 120 as const;

export const BIG_FIVE_PROMPT = `
q1: Worry about things.
q2: Make friends easily.
q3: Have a vivid imagination.
q4: Trust others.
q5: Complete tasks successfully.
q6: Get angry easily.
q7: Love large parties.
q8: Believe in the importance of art.
q9: Use others for my own ends.
q10: Like to tidy up.
q11: Often feel blue.
q12: Take charge.
q13: Experience my emotions intensely.
q14: Love to help others.
q15: Keep my promises.
q16: Find it difficult to approach others.
q17: Am always busy.
q18: Prefer variety to routine.
q19: Love a good fight.
q20: Work hard.
q21: Go on binges.
q22: Love excitement.
q23: Love to read challenging material.
q24: Believe that I am better than others.
q25: Am always prepared.
q26: Panic easily.
q27: Radiate joy.
q28: Tend to vote for liberal (progressive) political candidates.
q29: Sympathize with the homeless.
q30: Jump into things without thinking.
q31: Fear for the worst.
q32: Feel comfortable around people.
q33: Enjoy wild flights of fantasy.
q34: Believe that others have good intentions.
q35: Excel in what I do.
q36: Get irritated easily.
q37: Talk to a lot of different people at parties.
q38: See beauty in things that others might not notice.
q39: Cheat to get ahead.
q40: Often forget to put things back in their proper place.
q41: Dislike myself.
q42: Try to lead others.
q43: Feel others' emotions.
q44: Am concerned about others.
q45: Tell the truth.
q46: Am afraid to draw attention to myself.
q47: Am always on the go.
q48: Prefer to stick with things that I know.
q49: Yell at people.
q50: Do more than what's expected of me.
q51: Rarely overindulge.
q52: Seek adventure.
q53: Avoid philosophical discussions.
q54: Think highly of myself.
q55: Carry out my plans.
q56: Become overwhelmed by events.
q57: Have a lot of fun.
q58: Believe that there is no absolute right or wrong.
q59: Feel sympathy for those who are worse off than myself.
q60: Make rash decisions.
q61: Am afraid of many things.
q62: Avoid contact with others.
q63: Love to daydream.
q64: Trust what people say.
q65: Handle tasks smoothly.
q66: Lose my temper.
q67: Prefer to be alone.
q68: Do not like poetry.
q69: Take advantage of others.
q70: Leave a mess in my room.
q71: Am often down in the dumps.
q72: Take control of things.
q73: Rarely notice my emotional reactions.
q74: Am indifferent to the feelings of others.
q75: Break rules.
q76: Only feel comfortable with friends.
q77: Do a lot in my spare time.
q78: Dislike changes.
q79: Insult people.
q80: Do just enough work to get by.
q81: Easily resist temptations.
q82: Enjoy being reckless.
q83: Have difficulty understanding abstract ideas.
q84: Have a high opinion of myself.
q85: Waste my time.
q86: Feel that I'm unable to deal with things.
q87: Love life.
q88: Tend to vote for conservative political candidates.
q89: Am not interested in other people's problems.
q90: Rush into things.
q91: Get stressed out easily.
q92: Keep others at a distance.
q93: Like to get lost in thought.
q94: Distrust people.
q95: Know how to get things done.
q96: Am not easily annoyed.
q97: Avoid crowds.
q98: Do not enjoy going to art museums.
q99: Obstruct others' plans.
q100: Leave my belongings around.
q101: Feel comfortable with myself.
q102: Wait for others to lead the way.
q103: Don't understand people who get emotional.
q104: Take no time for others.
q105: Break my promises.
q106: Am not bothered by difficult social situations.
q107: Like to take it easy.
q108: Am attached to conventional ways.
q109: Get back at others.
q110: Put little time and effort into my work.
q111: Am able to control my cravings.
q112: Act wild and crazy.
q113: Am not interested in theoretical discussions.
q114: Boast about my virtues.
q115: Have difficulty starting tasks.
q116: Remain calm under pressure.
q117: Look at the bright side of life.
q118: Believe that we should be tough on crime.
q119: Try not to think about the needy.
q120: Act without thinking.
`.trim();

// Tableau indexable : BIG_FIVE_QUESTIONS[0] = Q1
export const BIG_FIVE_QUESTIONS: readonly string[] = BIG_FIVE_PROMPT
  .split(/\r?\n/)
  .map(line => line.replace(/^q\d+:\s*/i, "").trim())
  .filter(Boolean);

// Sanity check (détecte une corruption du fichier au boot)
if (BIG_FIVE_QUESTIONS.length !== BIG_FIVE_TOTAL) {
  throw new Error(
    `big_five.ts → expected ${BIG_FIVE_TOTAL} questions, got ${BIG_FIVE_QUESTIONS.length}`
  );
}

// Accès sécurisé : getBigFiveQuestion(1) = q1, ..., getBigFiveQuestion(120) = q120
export function getBigFiveQuestion(n: number): string {
  if (!Number.isInteger(n) || n < 1 || n > BIG_FIVE_TOTAL) {
    throw new Error(`big_five.ts → Question index out of range: ${n}`);
  }
  return BIG_FIVE_QUESTIONS[n - 1];
}

// Utilitaires (optionnels)
export function isLastBigFiveQuestion(n: number): boolean {
  return n === BIG_FIVE_TOTAL;
}
